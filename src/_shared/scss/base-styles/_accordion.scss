@use "sass:color";
@use "mixins";
@use "variables";

/*!
 * Accordion
 */


h1.accordion-heading,
h2.accordion-heading,
h3.accordion-heading,
h4.accordion-heading,
h5.accordion-heading,
h6.accordion-heading {
    width: auto;
    padding: 0 !important;
    margin: 0;
    border: none;
    text-align: left;
}
button.accordion-toggle {
    width: 100%;
    border: none;
    text-align: left;
    margin: 0;
}
button.expand-all.standard-btn {
    margin: 5px 0;
    float: none;
}

.button-container-right {
    text-align: right;
}

.button-container-left {
    text-align: left;
}

.accordion {
    .accordion {
        margin: 0;
    }
    .accordion-register {
        padding-left: 0;
        margin: 0 0 .5em;
        border-top: 1px solid variables.$border;
        border-bottom: 1px solid variables.$border;
        li {
            float: left;
            list-style-type: none;
            padding: .25em .5em;
        }
    }
    .accordion-suffix {
        font-weight: bold;
    }
    .accordion-group {
        border: none;
        margin-bottom: 5px;
    }
    .accordion-toggle {
        display: block;
        border-left: 10px solid var(--color-primary-ci-hell, variables.$colorDefault);
        background: var(--color-ContentBorders, #d2ddeb);
        color:  var(--color-Text, #444);
        font-size: 1rem;
        text-decoration: none;
        padding: 8px 35px 8px 10px;
        position: relative;
        &:before {
            position: absolute;
            top: calc(50% - .5em);
            right: 12px;
            @extend .fas !optional;
            @extend .fa-caret-down !optional;
        }
        &:hover,
        &:focus,
        &.active {
            text-decoration: none;
            background-color: var(--color-primary-ci-hell, variables.$colorDefault);
            color: var(--color-primary-ci-hell-kontrast, #fff);
            &:before {
                position: absolute;
                top: calc(50% - .5em);
                right: 12px;
                @extend .fas !optional;
                @extend .fa-caret-down !optional;
            }
            .alert.font-light &  {
                * {
                    color: var(--color-primary-ci-hell-kontrast, #fff);
                }
            }

        }
        &.active {
            &:before {
                position: absolute;
                top: calc(50% - .5em);
                right: 12px;
                @extend .fas !optional;
                @extend .fa-caret-up !optional;
            }
        }
        &.active:hover,
        &.active:focus {
            border-color: var(--color-primary-dunkler, variables.$colorDefaultDunkler);
            background-color: var(--color-primary-dunkler, variables.$colorDefaultDunkler);
            color: var(--color-primary-dunkler-kontrast, #fff);
            &:before {
                position: absolute;
                top: calc(50% - .5em);
                right: 12px;
                @extend .fas !optional;
                @extend .fa-caret-up !optional;
            }
        }
        svg.rrze-elements-icon {
            margin-right: 3px;
        }
        span[class^="fa"] {
            margin-right: 5px;
        }
        .alert.font-light & {
            color: var(--color-Text, #444);
            * {
                color: var(--color-Text, #444);
            }
            &:hover,
            &:focus,
            &.active {
                color: var(--color-primary-ci-hell-kontrast, #fff);
            }
        }

    }
    .phil .accordion-heading .accordion-toggle,
    .philfak .accordion-heading .accordion-toggle,
    .gold .accordion-heading .accordion-toggle {
        border-color: var(--color-phil-ci-hell, variables.$colorPhilFak);
        &:hover,
        &:focus,
        &.active {
            border-color: var(--color-phil-ci-hell, variables.$colorPhilFak);
            background-color: var(--color-phil-ci-hell, variables.$colorPhilFak);
            color: var(--color-phil-ci-hell-kontrast, #000);
        }
        &.active:hover,
        &.active:focus {
            border-color: var(--color-phil-dunkler, variables.$colorPhilFakDunkler);
            background-color: var(--color-phil-dunkler, variables.$colorPhilFakDunkler);
            color: var(--color-phil-ci-hell-kontrast, #000);
        }
    }
    .rw .accordion-heading .accordion-toggle,
    .rwfak .accordion-heading .accordion-toggle,
    .red .accordion-heading .accordion-toggle {
        border-color: var(--color-rw-ci-hell, variables.$colorRwFak);
        &:hover,
        &:focus,
        &.active {
            border-color: var(--color-rw-ci-hell, variables.$colorRwFak);
            background-color: var(--color-rw-ci-hell, variables.$colorRwFak);
            color: var(--color-rw-ci-hell-kontrast, #fff);
        }
        &.active:hover,
        &.active:focus {
            border-color: var(--color-rw-dunkler, variables.$colorRwFakDunkler);
            background-color: var(--color-rw-dunkler, variables.$colorRwFakDunkler);
            color: var(--color-rw-ci-hell-kontrast, #fff);
        }
    }
    .med .accordion-heading .accordion-toggle,
    .medfak .accordion-heading .accordion-toggle,
    .blue .accordion-heading .accordion-toggle {
        border-color: var(--color-med-ci-hell, variables.$colorMedFak);
        &:hover,
        &:focus,
        &.active {
            border-color: var(--color-med-ci-hell, variables.$colorMedFak);
            background-color: var(--color-med-ci-hell, variables.$colorMedFak);
            color: var(--color-med-ci-hell-kontrast, #000);
        }
        &.active:hover,
        &.active:focus {
            border-color: var(--color-med-dunkler, variables.$colorMedFakDunkler);
            background-color: var(--color-med-dunkler, variables.$colorMedFakDunkler);
            color: var(--color-med-ci-dunkel-kontrast, #fff);
        }
    }
    .nat .accordion-heading .accordion-toggle,
    .natfak .accordion-heading .accordion-toggle,
    .green .accordion-heading .accordion-toggle {
        border-color: var(--color-nat-ci-hell, variables.$colorNatFak);
        &:hover,
        &:focus,
        &.active,
        &.active:focus {
            border-color: var(--color-nat-ci-hell, variables.$colorNatFak);
            background-color: var(--color-nat-ci-hell, variables.$colorNatFak);
            color: var(--color-nat-ci-hell-kontrast, #000);
        }
        &.active:hover,
        &.active:focus {
            border-color: var(--color-nat-dunkler, variables.$colorNatFakDunkler);
            background-color: var(--color-nat-dunkler, variables.$colorNatFakDunkler);
            color: var(--color-nat-dunkler-kontrast, #fff);
        }
    }
    .tf .accordion-heading .accordion-toggle,
    .techfak .accordion-heading .accordion-toggle,
    .grey .accordion-heading .accordion-toggle {
        border-color: var(--color-tf-ci-hell, variables.$colorTechFak);
        &:hover,
        &:focus,
        &.active {
            border-color: var(--color-tf-ci-hell, variables.$colorTechFak);
            background-color: var(--color-tf-ci-hell, variables.$colorTechFak);
            color: var(--color-tf-ci-dunkel-kontrast, #000);
        }
        &.active:hover,
        &.active:focus {
            border-color: var(--color-tf-dunkler, variables.$colorTechFakDunkler);
            background-color: var(--color-tf-dunkler, variables.$colorTechFakDunkler);
            color: var(--color-tf-ci-dunkel-kontrast, #fff);
        }
    }
    .fau .accordion-heading .accordion-toggle,
    .default .accordion-heading .accordion-toggle {
        border-color: var(--color-zentral-ci-hell, variables.$colorDefault);
        &:hover,
        &:focus,
        &.active {
            border-color: var(--color-zentral-ci-hell, variables.$colorDefault);
            background-color: var(--color-zentral-ci-hell, variables.$colorDefault);
            color: var(--color-zentral-ci-hell-kontrast, #fff);
        }
        &.active:hover,
        &.active:focus {
            border-color: var(--color-zentral-dunkler, variables.$colorDefaultDunkler);
            background-color: var(--color-zentral-dunkler, variables.$colorDefaultDunkler);
            color: var(--color-zentral-ci-dunkler-kontrast, #fff);
        }
    }

    .accordion-body {
        display: block; // none;
        overflow: hidden;

        .accordion-inner {
            @extend .clearfix !optional;
            border: none;
            background-color: #fff;
            padding: 15px 20px;
            .alert.font-light & {
                color: var(--color-Text, #222);
                h1, h2, h3, h4, h5, p, li, a, span, blockquote, code, pre, th, td, strong, em {
                    color: var(--color-Text, #222);
                }
            }
        }
    }
}

.fau-theme {
    .accordion-toggle {
        @include mixins.border-radius(var(--border-radius, 4px));

      padding: 8px 35px 8px 10px;
      font-size: 1rem;
      font-weight: 400;
    }
    .accordion-body {
        .accordion-inner {
            background-color: #f5f7f9;
            //@include border-bottom-radius(4px);
        }
    }
    .accordion-group .accordion-body .accordion-inner {
        .accordion-inner {
            background-color: color.adjust(#f5f7f9, $lightness: -4%);
        }
    }
}

@media print {
    .accordion {
        position: relative;
        display: block;
        overflow: visible;
    }
    .accordion-group,
    .accordion-body,
    .accordion-inner,
    .accordion-inner p {
        position:relative;
        display: block !important;
        page-break-inside: avoid;
        break-inside: avoid;
        overflow: visible;
    }
    button.expand-all.standard-btn {
        display: none;
    }
    h3.accordion-heading,
    h4.accordion-heading {
        margin-bottom: 0 !important;
    }
}

// read mode
.read-mode-only {
    display: none;
}

#content main .accordion-body:target,
.admin-bar #content main .accordion-body:target {
    padding-top: 0;
}

#content main .wp-block-rrze-elements-collapsibles .accordion-toggle:target{
    padding-top: 8px;
}

button.accordion-toggle svg.icon, div.accordion-toggle > svg{
  margin-right: 1ch;
  height: 1rem;
  width: 1rem;
  use {
    fill: var(--color-Text, #222);
  }
}

.wp-theme-FAU-Einrichtungen div.wp-block-rrze-elements-collapsibles{
  .accordion-heading svg{
    height: 24px;
    width: 24px;
  }

  .accordion-heading button{
    display: flex;
    align-items: center;
  }
}
