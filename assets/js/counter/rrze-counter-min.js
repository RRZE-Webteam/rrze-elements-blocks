window.addEventListener("load",()=>{initCounterAnimations();ScrollTrigger.refresh()});function numberWithDots(a){if(a==null)return console.log("Received null or undefined"),"0";a=a.toString().replace(/\./g,"");a=parseInt(a,10);return isNaN(a)?(console.log("Conversion to number failed"),"Invalid number"):a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}
function initCounterAnimations(){try{gsap.registerPlugin(ScrollTrigger);const a=window.matchMedia("(prefers-reduced-motion: reduce)").matches,e=document.querySelectorAll(".rrze--counter-element");a?e.forEach(b=>{b.querySelectorAll(".fau-counter-data").forEach(c=>{c.textContent=numberWithDots(parseInt(c.textContent,10))})}):e.forEach(b=>{const c=b.querySelectorAll(".fau-counter-data");var d=b.closest(".rrze--counter-element");const g=parseFloat(d.getAttribute("data-stagger"));d=parseFloat(d.getAttribute("data-startValue"));
gsap.from(c,{textContent:d||0,duration:2,ease:"power3.inOut",stagger:g||0,snap:{textContent:1},invalidateOnRefresh:!0,immediateRender:!1,onUpdate:function(){this.targets().forEach(f=>{f.innerHTML=numberWithDots(Math.ceil(parseInt(f.textContent.replace(/\./g,""),10)))})},scrollTrigger:{trigger:b,start:"top bottom",toggleActions:"play none none none",once:!0}})})}catch(a){console.error("Animation initialization failed:",a)}};
